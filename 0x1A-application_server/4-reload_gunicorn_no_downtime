#!/usr/bin/env bash
# Get the process ID of the Gunicorn master process
# Send a HUP signal to the Gunicorn master process to initiate a graceful reload

pid=$(pgrep gunicorn)
kill -HUP "$pid"
sleep 5
if kill -0 "$pid" >/dev/null 2>&1; then
    echo "Gunicorn reload failed."
    exit 1
else
    echo "Gunicorn reloaded successfully."
fi
exit 0
